<div class="container-fluid w-100 px-0">
    <app-nav class="w-100"></app-nav>
    <div class="dashboard-container">
        <section name="init" class="init px-2">
            <div class="init-contente card px-2">
                <h3 class="fw-bold fs-5 p-2">Olá, {{user.name}}</h3>
                <p class="px-2">Aqui você consegue acompanhar todas as suas empresas e verificar suas viagens</p>
            </div>
        </section>  
        <section name="enterprises" class="enterprises mt-3 w-100 d-flex flex-column align-items-center px-2" style="max-width: 800px;">
            <div class="enterprises-menu w-100 d-flex flex-row justify-content-between">
                <h3 class="fs-5 fw-bold">Minhas Empresas</h3>
                <app-custom-button
                    name="Adicionar"
                    (click)="add()"
                ></app-custom-button>
            </div>
            <table class="table table-hover w-100 mt-3">
                <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">Nome</th>
                        <th scope="col">CNPJ</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    @for (enterprise of user.enterprises; track $index) {                            
                            <tr (click)="select(enterprise.id!)">
                                <td><img [src]=(caminho+enterprise.image) width="36px" height="36px" style="border-radius:300px;border: 0.01rem solid var(--color-primary);"></td>
                                <td>{{enterprise.fantasy_name}}</td>
                                <td>{{enterprise.cnpj}}</td>
                                <td class="d-flex gap-2 justify-content-end">
                                    <button class="btn btn-warning" (click)="edit(enterprise.id!);$event.stopPropagation()">Editar</button>
                                    <button class="btn btn-danger" (click)="del(enterprise.id!); $event.stopPropagation()">Excluir</button>
                                </td>
                            </tr> 
                        }
                </tbody>
            </table>
        </section>
    </div>
    <app-footer class="mt-5 w-100"></app-footer>
</div>